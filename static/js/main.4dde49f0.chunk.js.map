{"version":3,"sources":["smart_contract_controller.js","App.js","App2.js","App3.js","serviceWorker.js","index.js"],"names":["web3","artinToken","ERC20ArtinVoteTokenABI","ARTv1_ADDRESS","wasStarted","startToken","localWeb3","a","eth","Contract","error","alert","getNonce","account","callback","getTransactionCount","err","res","utils","toHex","getTxObject","nonce","gasLimit","gweiGasPrice","data","console","log","defaultAccount","gasPrice","toWei","to","from","chainId","sendSignedTx","ethereum","txObject","request","method","params","sendSignedTxWCAsync","provider","then","send","createVote","desc","options","choices","i","length","fromAscii","action","txObj","encodeABI","transactionPrivate","methods","choiceCount","index","funcResp","call","scoped","val","func","voteForTemp","_web3","indexChoice","voteFor","getVoteCount","response","voteCount","getBalanceOf","address","balanceOf","setIndex","indexPoll","makePromise","Promise","resolve","x","choiceOfAsync","i1","choiceOf","toAscii","replace","weightOfAsync","weightOf","fromWei","descriptionOf","user","voteOf","winningIndexOf","App","connectCounter","startApp","JSONRPC_URL","walletLink","WalletLink","appName","darkMode","WalletConnectProvider","infuraId","dappName","rpcUrl","bridgeUrl","rpc","42","providerOptions","walletconnect","package","Web3Modal","network","WalletConnectConnector","bridge","qrcode","pollingInterval","window","makeWeb3Provider","lib","Web3","newOptions","nextId","App2","onUpdateOption","wasDone","setState","state","map","item","id","votes","parseFloat","pollLength","onAddOption","opText","op","text","isMy","myVoteIndex","isWin","winningIndex","addOption","updateOption","updateMyVote","finishPoll","newDescription","ops","handleChange","event","target","value","handleItemChange","name","handleRewardChange","reward","parseUrl","parseIndex","URLSearchParams","location","search","get","minIndex","concat","str1","str2","reload","myClass","winClass","amount","rew","document","getElementById","rewardCorrectAndClose","toString","rewardAndPunish","rewardAndClose","max","pollBars","querySelectorAll","style","width","description","isAdmin","query","wallet","notes","balance","tx","count","canGoBack","canGoNext","isTransactionMsg","this","connect","disconnect","close","index1","enable","accounts","toLowerCase","loadWinning","loadPoll","loadMyVote","catch","sleep","delay","setTimeout","val1","val2","class","href","onClick","key","voteForThis","Number","onChange","onSubmit","submitPoll","type","Component","Boolean","hostname","match","ReactDOM","render","StrictMode","navigator","serviceWorker","ready","registration","unregister","message"],"mappings":"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","file":"static/js/main.4dde49f0.chunk.js","sourcesContent":["const ERC20ArtinVoteTokenABI = [\r\n    {\r\n      \"inputs\": [],\r\n      \"stateMutability\": \"nonpayable\",\r\n      \"type\": \"constructor\"\r\n    },\r\n    {\r\n      \"anonymous\": false,\r\n      \"inputs\": [\r\n        {\r\n          \"indexed\": true,\r\n          \"internalType\": \"address\",\r\n          \"name\": \"owner\",\r\n          \"type\": \"address\"\r\n        },\r\n        {\r\n          \"indexed\": true,\r\n          \"internalType\": \"address\",\r\n          \"name\": \"spender\",\r\n          \"type\": \"address\"\r\n        },\r\n        {\r\n          \"indexed\": false,\r\n          \"internalType\": \"uint256\",\r\n          \"name\": \"value\",\r\n          \"type\": \"uint256\"\r\n        }\r\n      ],\r\n      \"name\": \"Approval\",\r\n      \"type\": \"event\"\r\n    },\r\n    {\r\n      \"anonymous\": false,\r\n      \"inputs\": [\r\n        {\r\n          \"indexed\": true,\r\n          \"internalType\": \"address\",\r\n          \"name\": \"from\",\r\n          \"type\": \"address\"\r\n        },\r\n        {\r\n          \"indexed\": true,\r\n          \"internalType\": \"address\",\r\n          \"name\": \"to\",\r\n          \"type\": \"address\"\r\n        },\r\n        {\r\n          \"indexed\": false,\r\n          \"internalType\": \"uint256\",\r\n          \"name\": \"value\",\r\n          \"type\": \"uint256\"\r\n        }\r\n      ],\r\n      \"name\": \"Transfer\",\r\n      \"type\": \"event\"\r\n    },\r\n    {\r\n      \"inputs\": [],\r\n      \"name\": \"_totalSupply\",\r\n      \"outputs\": [\r\n        {\r\n          \"internalType\": \"uint256\",\r\n          \"name\": \"\",\r\n          \"type\": \"uint256\"\r\n        }\r\n      ],\r\n      \"stateMutability\": \"view\",\r\n      \"type\": \"function\"\r\n    },\r\n    {\r\n      \"inputs\": [],\r\n      \"name\": \"decimals\",\r\n      \"outputs\": [\r\n        {\r\n          \"internalType\": \"uint8\",\r\n          \"name\": \"\",\r\n          \"type\": \"uint8\"\r\n        }\r\n      ],\r\n      \"stateMutability\": \"view\",\r\n      \"type\": \"function\"\r\n    },\r\n    {\r\n      \"inputs\": [],\r\n      \"name\": \"name\",\r\n      \"outputs\": [\r\n        {\r\n          \"internalType\": \"string\",\r\n          \"name\": \"\",\r\n          \"type\": \"string\"\r\n        }\r\n      ],\r\n      \"stateMutability\": \"view\",\r\n      \"type\": \"function\"\r\n    },\r\n    {\r\n      \"inputs\": [],\r\n      \"name\": \"notDistributed\",\r\n      \"outputs\": [\r\n        {\r\n          \"internalType\": \"uint256\",\r\n          \"name\": \"\",\r\n          \"type\": \"uint256\"\r\n        }\r\n      ],\r\n      \"stateMutability\": \"view\",\r\n      \"type\": \"function\"\r\n    },\r\n    {\r\n      \"inputs\": [],\r\n      \"name\": \"owner\",\r\n      \"outputs\": [\r\n        {\r\n          \"internalType\": \"address\",\r\n          \"name\": \"\",\r\n          \"type\": \"address\"\r\n        }\r\n      ],\r\n      \"stateMutability\": \"view\",\r\n      \"type\": \"function\"\r\n    },\r\n    {\r\n      \"inputs\": [],\r\n      \"name\": \"symbol\",\r\n      \"outputs\": [\r\n        {\r\n          \"internalType\": \"string\",\r\n          \"name\": \"\",\r\n          \"type\": \"string\"\r\n        }\r\n      ],\r\n      \"stateMutability\": \"view\",\r\n      \"type\": \"function\"\r\n    },\r\n    {\r\n      \"inputs\": [],\r\n      \"name\": \"voteCount\",\r\n      \"outputs\": [\r\n        {\r\n          \"internalType\": \"uint256\",\r\n          \"name\": \"\",\r\n          \"type\": \"uint256\"\r\n        }\r\n      ],\r\n      \"stateMutability\": \"view\",\r\n      \"type\": \"function\"\r\n    },\r\n    {\r\n      \"stateMutability\": \"payable\",\r\n      \"type\": \"receive\"\r\n    },\r\n    {\r\n      \"inputs\": [\r\n        {\r\n          \"internalType\": \"uint256\",\r\n          \"name\": \"index\",\r\n          \"type\": \"uint256\"\r\n        }\r\n      ],\r\n      \"name\": \"winningIndexOf\",\r\n      \"outputs\": [\r\n        {\r\n          \"internalType\": \"uint8\",\r\n          \"name\": \"result\",\r\n          \"type\": \"uint8\"\r\n        }\r\n      ],\r\n      \"stateMutability\": \"view\",\r\n      \"type\": \"function\"\r\n    },\r\n    {\r\n      \"inputs\": [\r\n        {\r\n          \"internalType\": \"uint256\",\r\n          \"name\": \"index\",\r\n          \"type\": \"uint256\"\r\n        }\r\n      ],\r\n      \"name\": \"descriptionOf\",\r\n      \"outputs\": [\r\n        {\r\n          \"internalType\": \"bytes32\",\r\n          \"name\": \"result\",\r\n          \"type\": \"bytes32\"\r\n        }\r\n      ],\r\n      \"stateMutability\": \"view\",\r\n      \"type\": \"function\"\r\n    },\r\n    {\r\n      \"inputs\": [\r\n        {\r\n          \"internalType\": \"uint256\",\r\n          \"name\": \"index\",\r\n          \"type\": \"uint256\"\r\n        }\r\n      ],\r\n      \"name\": \"choiceCount\",\r\n      \"outputs\": [\r\n        {\r\n          \"internalType\": \"uint256\",\r\n          \"name\": \"result\",\r\n          \"type\": \"uint256\"\r\n        }\r\n      ],\r\n      \"stateMutability\": \"view\",\r\n      \"type\": \"function\"\r\n    },\r\n    {\r\n      \"inputs\": [\r\n        {\r\n          \"internalType\": \"uint256\",\r\n          \"name\": \"index\",\r\n          \"type\": \"uint256\"\r\n        },\r\n        {\r\n          \"internalType\": \"uint8\",\r\n          \"name\": \"indexChoice\",\r\n          \"type\": \"uint8\"\r\n        }\r\n      ],\r\n      \"name\": \"choiceOf\",\r\n      \"outputs\": [\r\n        {\r\n          \"internalType\": \"bytes32\",\r\n          \"name\": \"result\",\r\n          \"type\": \"bytes32\"\r\n        }\r\n      ],\r\n      \"stateMutability\": \"view\",\r\n      \"type\": \"function\"\r\n    },\r\n    {\r\n      \"inputs\": [\r\n        {\r\n          \"internalType\": \"uint256\",\r\n          \"name\": \"index\",\r\n          \"type\": \"uint256\"\r\n        },\r\n        {\r\n          \"internalType\": \"uint8\",\r\n          \"name\": \"indexChoice\",\r\n          \"type\": \"uint8\"\r\n        }\r\n      ],\r\n      \"name\": \"weightOf\",\r\n      \"outputs\": [\r\n        {\r\n          \"internalType\": \"uint256\",\r\n          \"name\": \"result\",\r\n          \"type\": \"uint256\"\r\n        }\r\n      ],\r\n      \"stateMutability\": \"view\",\r\n      \"type\": \"function\"\r\n    },\r\n    {\r\n      \"inputs\": [\r\n        {\r\n          \"internalType\": \"uint256\",\r\n          \"name\": \"index\",\r\n          \"type\": \"uint256\"\r\n        },\r\n        {\r\n          \"internalType\": \"address\",\r\n          \"name\": \"user\",\r\n          \"type\": \"address\"\r\n        }\r\n      ],\r\n      \"name\": \"voteOf\",\r\n      \"outputs\": [\r\n        {\r\n          \"internalType\": \"uint8\",\r\n          \"name\": \"result\",\r\n          \"type\": \"uint8\"\r\n        }\r\n      ],\r\n      \"stateMutability\": \"view\",\r\n      \"type\": \"function\"\r\n    },\r\n    {\r\n      \"inputs\": [\r\n        {\r\n          \"internalType\": \"uint256\",\r\n          \"name\": \"index\",\r\n          \"type\": \"uint256\"\r\n        },\r\n        {\r\n          \"internalType\": \"uint8\",\r\n          \"name\": \"indexChoice\",\r\n          \"type\": \"uint8\"\r\n        }\r\n      ],\r\n      \"name\": \"voteFor\",\r\n      \"outputs\": [],\r\n      \"stateMutability\": \"nonpayable\",\r\n      \"type\": \"function\"\r\n    },\r\n    {\r\n      \"inputs\": [\r\n        {\r\n          \"internalType\": \"bytes32\",\r\n          \"name\": \"desc\",\r\n          \"type\": \"bytes32\"\r\n        },\r\n        {\r\n          \"internalType\": \"bytes32[]\",\r\n          \"name\": \"options\",\r\n          \"type\": \"bytes32[]\"\r\n        }\r\n      ],\r\n      \"name\": \"createVote\",\r\n      \"outputs\": [],\r\n      \"stateMutability\": \"nonpayable\",\r\n      \"type\": \"function\"\r\n    },\r\n    {\r\n      \"inputs\": [],\r\n      \"name\": \"createVoteTest1\",\r\n      \"outputs\": [],\r\n      \"stateMutability\": \"nonpayable\",\r\n      \"type\": \"function\"\r\n    },\r\n    {\r\n      \"inputs\": [\r\n        {\r\n          \"internalType\": \"uint256\",\r\n          \"name\": \"index\",\r\n          \"type\": \"uint256\"\r\n        },\r\n        {\r\n          \"internalType\": \"uint8\",\r\n          \"name\": \"indexChoice\",\r\n          \"type\": \"uint8\"\r\n        },\r\n        {\r\n          \"internalType\": \"uint256\",\r\n          \"name\": \"amount\",\r\n          \"type\": \"uint256\"\r\n        }\r\n      ],\r\n      \"name\": \"rewardCorrectAndClose\",\r\n      \"outputs\": [],\r\n      \"stateMutability\": \"nonpayable\",\r\n      \"type\": \"function\"\r\n    },\r\n    {\r\n      \"inputs\": [\r\n        {\r\n          \"internalType\": \"uint256\",\r\n          \"name\": \"index\",\r\n          \"type\": \"uint256\"\r\n        },\r\n        {\r\n          \"internalType\": \"uint8\",\r\n          \"name\": \"indexChoice\",\r\n          \"type\": \"uint8\"\r\n        },\r\n        {\r\n          \"internalType\": \"uint256\",\r\n          \"name\": \"amount\",\r\n          \"type\": \"uint256\"\r\n        }\r\n      ],\r\n      \"name\": \"rewardAndClose\",\r\n      \"outputs\": [],\r\n      \"stateMutability\": \"nonpayable\",\r\n      \"type\": \"function\"\r\n    },\r\n    {\r\n      \"inputs\": [\r\n        {\r\n          \"internalType\": \"uint256\",\r\n          \"name\": \"index\",\r\n          \"type\": \"uint256\"\r\n        }\r\n      ],\r\n      \"name\": \"closeVote\",\r\n      \"outputs\": [],\r\n      \"stateMutability\": \"nonpayable\",\r\n      \"type\": \"function\"\r\n    },\r\n    {\r\n      \"inputs\": [],\r\n      \"name\": \"totalSupply\",\r\n      \"outputs\": [\r\n        {\r\n          \"internalType\": \"uint256\",\r\n          \"name\": \"\",\r\n          \"type\": \"uint256\"\r\n        }\r\n      ],\r\n      \"stateMutability\": \"view\",\r\n      \"type\": \"function\"\r\n    },\r\n    {\r\n      \"inputs\": [\r\n        {\r\n          \"internalType\": \"address\",\r\n          \"name\": \"tokenOwner\",\r\n          \"type\": \"address\"\r\n        }\r\n      ],\r\n      \"name\": \"balanceOf\",\r\n      \"outputs\": [\r\n        {\r\n          \"internalType\": \"uint256\",\r\n          \"name\": \"balance\",\r\n          \"type\": \"uint256\"\r\n        }\r\n      ],\r\n      \"stateMutability\": \"view\",\r\n      \"type\": \"function\"\r\n    },\r\n    {\r\n      \"inputs\": [\r\n        {\r\n          \"internalType\": \"address\",\r\n          \"name\": \"to\",\r\n          \"type\": \"address\"\r\n        },\r\n        {\r\n          \"internalType\": \"uint256\",\r\n          \"name\": \"tokens\",\r\n          \"type\": \"uint256\"\r\n        }\r\n      ],\r\n      \"name\": \"transfer\",\r\n      \"outputs\": [\r\n        {\r\n          \"internalType\": \"bool\",\r\n          \"name\": \"success\",\r\n          \"type\": \"bool\"\r\n        }\r\n      ],\r\n      \"stateMutability\": \"nonpayable\",\r\n      \"type\": \"function\"\r\n    },\r\n    {\r\n      \"inputs\": [\r\n        {\r\n          \"internalType\": \"address\",\r\n          \"name\": \"spender\",\r\n          \"type\": \"address\"\r\n        },\r\n        {\r\n          \"internalType\": \"uint256\",\r\n          \"name\": \"tokens\",\r\n          \"type\": \"uint256\"\r\n        }\r\n      ],\r\n      \"name\": \"approve\",\r\n      \"outputs\": [\r\n        {\r\n          \"internalType\": \"bool\",\r\n          \"name\": \"success\",\r\n          \"type\": \"bool\"\r\n        }\r\n      ],\r\n      \"stateMutability\": \"nonpayable\",\r\n      \"type\": \"function\"\r\n    },\r\n    {\r\n      \"inputs\": [\r\n        {\r\n          \"internalType\": \"address\",\r\n          \"name\": \"from\",\r\n          \"type\": \"address\"\r\n        },\r\n        {\r\n          \"internalType\": \"address\",\r\n          \"name\": \"to\",\r\n          \"type\": \"address\"\r\n        },\r\n        {\r\n          \"internalType\": \"uint256\",\r\n          \"name\": \"tokens\",\r\n          \"type\": \"uint256\"\r\n        }\r\n      ],\r\n      \"name\": \"transferFrom\",\r\n      \"outputs\": [\r\n        {\r\n          \"internalType\": \"bool\",\r\n          \"name\": \"success\",\r\n          \"type\": \"bool\"\r\n        }\r\n      ],\r\n      \"stateMutability\": \"nonpayable\",\r\n      \"type\": \"function\"\r\n    },\r\n    {\r\n      \"inputs\": [\r\n        {\r\n          \"internalType\": \"address\",\r\n          \"name\": \"tokenOwner\",\r\n          \"type\": \"address\"\r\n        },\r\n        {\r\n          \"internalType\": \"address\",\r\n          \"name\": \"spender\",\r\n          \"type\": \"address\"\r\n        }\r\n      ],\r\n      \"name\": \"allowance\",\r\n      \"outputs\": [\r\n        {\r\n          \"internalType\": \"uint256\",\r\n          \"name\": \"remaining\",\r\n          \"type\": \"uint256\"\r\n        }\r\n      ],\r\n      \"stateMutability\": \"view\",\r\n      \"type\": \"function\"\r\n    },\r\n    {\r\n      \"inputs\": [\r\n        {\r\n          \"internalType\": \"address\",\r\n          \"name\": \"spender\",\r\n          \"type\": \"address\"\r\n        },\r\n        {\r\n          \"internalType\": \"uint256\",\r\n          \"name\": \"tokens\",\r\n          \"type\": \"uint256\"\r\n        },\r\n        {\r\n          \"internalType\": \"bytes\",\r\n          \"name\": \"data\",\r\n          \"type\": \"bytes\"\r\n        }\r\n      ],\r\n      \"name\": \"approveAndCall\",\r\n      \"outputs\": [\r\n        {\r\n          \"internalType\": \"bool\",\r\n          \"name\": \"success\",\r\n          \"type\": \"bool\"\r\n        }\r\n      ],\r\n      \"stateMutability\": \"nonpayable\",\r\n      \"type\": \"function\"\r\n    },\r\n    {\r\n      \"inputs\": [\r\n        {\r\n          \"internalType\": \"address\",\r\n          \"name\": \"to\",\r\n          \"type\": \"address\"\r\n        },\r\n        {\r\n          \"internalType\": \"uint256\",\r\n          \"name\": \"amount\",\r\n          \"type\": \"uint256\"\r\n        }\r\n      ],\r\n      \"name\": \"ownersGift\",\r\n      \"outputs\": [],\r\n      \"stateMutability\": \"nonpayable\",\r\n      \"type\": \"function\"\r\n    },\r\n    {\r\n      \"inputs\": [\r\n        {\r\n          \"internalType\": \"address\",\r\n          \"name\": \"from\",\r\n          \"type\": \"address\"\r\n        },\r\n        {\r\n          \"internalType\": \"uint256\",\r\n          \"name\": \"amount\",\r\n          \"type\": \"uint256\"\r\n        }\r\n      ],\r\n      \"name\": \"ownersCurse\",\r\n      \"outputs\": [],\r\n      \"stateMutability\": \"nonpayable\",\r\n      \"type\": \"function\"\r\n    },\r\n    {\r\n      \"inputs\": [\r\n        {\r\n          \"internalType\": \"address\",\r\n          \"name\": \"tokenAddress\",\r\n          \"type\": \"address\"\r\n        },\r\n        {\r\n          \"internalType\": \"uint256\",\r\n          \"name\": \"tokens\",\r\n          \"type\": \"uint256\"\r\n        }\r\n      ],\r\n      \"name\": \"transferAnyERC20Token\",\r\n      \"outputs\": [\r\n        {\r\n          \"internalType\": \"bool\",\r\n          \"name\": \"success\",\r\n          \"type\": \"bool\"\r\n        }\r\n      ],\r\n      \"stateMutability\": \"nonpayable\",\r\n      \"type\": \"function\"\r\n    }\r\n  ];\r\nconst ARTv1_ADDRESS = \"0xd2A344D2a6B6C8c0bdEbC95B49519367a1E8f7A7\";\r\nconst senderAddress = \"0x0979d9f8f0330518a6de7769a44baa666f37f0c2\"; //\"0x4d10ae710Bd8D1C31bd7465c8CBC3add6F279E81\";\r\n\r\nvar web3;\r\nvar artinToken;\r\nvar wasStarted = false;\r\nexport async function startToken(localWeb3){\r\n  if (!wasStarted){\r\n    wasStarted = true;  \r\n  web3 = localWeb3;\r\n  try {\r\n    artinToken = new web3.eth.Contract(ERC20ArtinVoteTokenABI, ARTv1_ADDRESS);//, \r\n      //{ from: senderAddress });//*/\r\n  } catch (error) {\r\n\t  alert(\"Error parsing contract: \" + error);\r\n  }\r\n  }\r\n}\r\n\r\nconst logResult = function(err, res){\r\n\tif (err){\r\n\t\tconsole.log(\"An error occured\", err)\r\n\t\treturn\r\n\t}\r\n\tconsole.log(\"The result is: \", res)\r\n}\r\n\r\nfunction logError(err){\r\n\tif (err){\r\n\t\tconsole.log(\"An error occured: \", err);\r\n\t}\r\n}\r\n\r\nexport function getNonce(account, callback){\r\n  web3.eth.getTransactionCount(account, (err, res) => { callback(err, web3.utils.toHex(res)); });\r\n}\r\nexport function getTxObject(nonce, gasLimit, gweiGasPrice, data){\r\n  console.log(\"Sender address: \", web3.eth.defaultAccount);\r\n  var res = {\r\n    nonce: nonce,\r\n    gasLimit: web3.utils.toHex(gasLimit),\r\n    gasPrice: web3.utils.toHex(web3.utils.toWei(gweiGasPrice, 'gwei')),\r\n    to: \"0xd2A344D2a6B6C8c0bdEbC95B49519367a1E8f7A7\",\r\n    from: web3.eth.defaultAccount,\r\n    data: data,\r\n    chainId: 42 // To be sure to use kovan testnet chain\r\n  };\r\n  return res;\r\n}\r\nexport function sendSigned(raw, callback){\r\n  web3.eth.sendSignedTransaction(raw, callback);\r\n}\r\nexport async function sendSignedTx(ethereum, txObject){\r\n  console.log(ethereum);\r\n  await ethereum.request({\r\n    method: 'eth_sendTransaction',\r\n    params: [txObject]\r\n  }, \r\n  (err, res) => {\r\n    console.log(\"Returned: \", res);\r\n  });\r\n}\r\nasync function sendSignedTxAsync(ethereum, txObject, callback){\r\n  await ethereum.request({\r\n    method: 'eth_sendTransaction',\r\n    params: [txObject]\r\n  }, callback);\r\n}\r\nasync function sendSignedTxWCAsync(provider, method, txObject, callback){\r\n  console.log(\"method: \", method);\r\n  console.log(\"txObject: \", txObject);\r\n  if (provider.request){\r\n    await provider.request({ method: method, params: [txObject] }).then(callback);//, function(err, res){  });\r\n  } else {\r\n    await provider.send({ method: method, params: [txObject] }, callback);\r\n  }\r\n}\r\n\r\nexport function createVote(eth, desc, options){\r\n\tvar choices = [];\r\n\tfor (var i = 0; i < options.length; ++i){\r\n\t\tchoices[i] = web3.utils.fromAscii(options[i]);\r\n\t}\r\n  //artinToken.methods.createVote(web3.utils.fromAscii(desc), choices).call(logResult);\r\n  transactionPrivate(eth, \r\n    artinToken.methods.createVote(web3.utils.fromAscii(desc), choices));\r\n}\r\nexport function createVoteTest1(eth){\r\n  //artinToken.methods.createVoteTest1().call(logResult);\r\n  getNonce(web3.eth.defaultAccount, (err, res) => {\r\n    if (!err){\r\n      var nonce = res;\r\n      console.log(\"Nonce: \", nonce);\r\n      var data = artinToken.methods.createVoteTest1().encodeABI();\r\n      var decodedData = web3.utils.toAscii(data);\r\n      console.log(\"decoded data: \", decodedData);\r\n      var txObj = getTxObject(nonce, 2100000, \"30\", data);\r\n      console.log(\"Tx: \", txObj);\r\n      sendSignedTx(eth, txObj);\r\n    }\r\n  });\r\n}\r\n\r\nfunction choiceCount(index, funcResp){\r\n  console.log(\"IN: choiceCount() \", index);\r\n\tartinToken.methods.choiceCount(index).call(funcResp);\r\n}\r\nexport function scoped(val, func){\r\n  func(val);\r\n}\r\nfunction getVotePrivate(index, count, nameDesc, nameOptions){\r\n\tartinToken.methods.descriptionOf(index).call(function(err, res){\r\n\t\tdocument.getElementById(nameDesc).innerHTML = web3.utils.toAscii(res);\r\n  });\r\n  var printText = (in1, tx1) => \"<div><a href='#' onclick='voteForIt(\"+in1+\")'>\"+tx1+\"</a><div id='val\"+in1+\"'></div></div>\";\r\n\tfor (var i = 0; i < count; ++i){\r\n    scoped(i, (i1) => {\r\n\t\t  artinToken.methods.choiceOf(index, i1).call(function(err, res){\r\n        document.getElementById(nameOptions[i1]).innerHTML = \r\n          printText(i1, web3.utils.toAscii(res));\r\n        artinToken.methods.weightOf(index, i1).call(function(err1, res1){\r\n          if (!err){\r\n            document.getElementById(\"val\"+i1).innerHTML = res1;\r\n          }\r\n        });\r\n      });\r\n    });\r\n\t}\r\n}\r\nfunction getVote(index, nameDesc, nameOptions){\r\n\tchoiceCount(index, function(err, res){\r\n    var jVal = JSON.parse(res);\r\n    console.log(\"getVote: \", res);\r\n\t\tvar count = jVal[0].result;\r\n\t\tgetVotePrivate(index, count, nameDesc, nameOptions);\r\n\t});\r\n}\r\nexport function voteFor(eth, indexChoice, callback){\r\n  getNonce(web3.eth.defaultAccount, (err, nonce) => {\r\n    if (!err){\r\n      var data = artinToken.methods.voteFor(index, indexChoice).encodeABI();\r\n      var txObj = getTxObject(nonce, 2100000, \"12\", data);\r\n      sendSignedTxAsync(eth, txObj, callback);\r\n    }\r\n  });\r\n\t//artinToken.methods.voteFor(index, indexChoice).call(logResult);\r\n}\r\nexport function voteForTemp(_web3, indexChoice, callback){\r\n  getNonce(web3.eth.defaultAccount, (err, nonce) => {\r\n    if (!err){\r\n      var data = artinToken.methods.voteFor(index, indexChoice).encodeABI();\r\n      var txObj = getTxObject(nonce, 2100000, \"10\", data);\r\n      sendSignedTxWCAsync(_web3, \"eth_sendTransaction\", txObj, callback);\r\n    }\r\n  });\r\n}\r\nfunction transactionPrivate(eth, action){\r\n  getNonce(web3.eth.defaultAccount, (err, nonce) => {\r\n    if (!err){\r\n      var data = action.encodeABI();\r\n      var txObj = getTxObject(nonce, 2100000, \"11\", data);\r\n      sendSignedTx(eth, txObj);\r\n    }\r\n  });\r\n}\r\nfunction reward(index, indexChoice){\r\n\tartinToken.methods.reward(index, indexChoice).call(logResult);\r\n}\r\nfunction rewardCorrect(index, indexChoice){\r\n\tartinToken.methods.rewardCorrect(index, indexChoice).call(logResult);\r\n}\r\nexport function totalSupply(response){\r\n\tartinToken.methods.totalSupply().call(response);\r\n}\r\nexport function getVoteCount(response){\r\n  artinToken.methods.voteCount().call(response);\r\n}\r\nexport function getOwner(response){\r\n  artinToken.methods.owner().call(response);\r\n}\r\nexport function getBalanceOf(address, response){\r\n  artinToken.methods.balanceOf(address).call(response);\r\n}\r\nexport function getNotDistributed(response){\r\n  artinToken.methods.notDistributed().call(response);\r\n}\r\nexport function ownersGift(addressTo, amount, response){\r\n  artinToken.methods.ownersGift(addressTo, amount).call(response);\r\n}\r\n\r\nvar index = 0; // Index of the vote\r\nexport function setIndex(indexPoll){\r\n  index = indexPoll;\r\n}\r\nexport function prepareOptions(){\r\n\tvar ops = \"\";\r\n\tchoiceCount(index, function(err, res){\r\n    console.log(\"returned choices, err: \", err);\r\n    if (!err){\r\n      console.log(\"returned count\", res);\r\n\t\t  var count = res;\r\n\t\t  var options = [];\r\n\t\t  for (var i = 0; i < count; ++i){\r\n\t\t\t  ops += \"<div id='op\" + i + \"'></div>\";\r\n\t\t\t  options[i] = \"op\" + i;\r\n\t\t  }\r\n      document.getElementById(\"options\").innerHTML = ops;\r\n      console.log(\"options: \", options);\r\n      getVotePrivate(index, count, \"question\", options);\r\n    }\r\n\t});\r\n}\r\nfunction makePromise(func){\r\n  return new Promise(resolve => {\r\n    func(resolve);\r\n  });\r\n}\r\nexport async function prepeareOptionsAsync(){\r\n  var x = await makePromise((resolve) => {\r\n    choiceCount(index, function(err, res){\r\n      resolve(res);\r\n    })\r\n  });\r\n  return x;\r\n}\r\nexport async function choiceOfAsync(i1){\r\n  return await makePromise((resolve) => {\r\n    artinToken.methods.choiceOf(index, i1).call(\r\n      function(err, res){\r\n        if (!err){\r\n          resolve(web3.utils.toAscii(res.replace(/([0]*)$/, ''))); \r\n        }\r\n      }\r\n    )\r\n  });\r\n}\r\nexport async function weightOfAsync(i1){\r\n  return await makePromise((resolve) => {\r\n    artinToken.methods.weightOf(index, i1).call(\r\n      function(err, res){\r\n        resolve(web3.utils.fromWei(res, 'ether'));\r\n      }\r\n    )\r\n  });\r\n}\r\nexport async function descriptionOfAsync(){\r\n  return await makePromise((resolve) => {\r\n    artinToken.methods.descriptionOf(index).call(\r\n      function(err, res){ \r\n        if (!err){\r\n          resolve(web3.utils.toAscii(res.replace(/([0]*)$/, ''))); \r\n        }\r\n      }\r\n    )\r\n  });\r\n}\r\nexport async function voteOfAsync(user){\r\n  return await makePromise((resolve) => {\r\n    artinToken.methods.voteOf(index, user).call(\r\n      function(err, res){\r\n        if (!err){\r\n          resolve(res);\r\n        }\r\n      }\r\n    )\r\n  });\r\n}\r\nexport async function winningIndexOfAsync(){\r\n  return await makePromise((resolve) => {\r\n    artinToken.methods.winningIndexOf(index).call(\r\n      function(err, res){\r\n        if (!err){\r\n          resolve(res);\r\n        }\r\n      }\r\n    )\r\n  });\r\n}\r\n\r\n\r\nexport function rewardCorrectAndCloseAsync(_web3, indexChoice, amount, callback){\r\n  getNonce(web3.eth.defaultAccount, (err, nonce) => {\r\n    if (!err){\r\n      var data = artinToken.methods.rewardCorrectAndClose(index, indexChoice, web3.utils.toWei(amount.toString())).encodeABI();\r\n      var txObj = getTxObject(nonce, 2100000, \"10\", data);\r\n      sendSignedTxWCAsync(_web3, \"eth_sendTransaction\", txObj, callback);\r\n    }\r\n  });\r\n}\r\nexport function rewardAndCloseAsync(_web3, indexChoice, amount, callback){\r\n  getNonce(web3.eth.defaultAccount, (err, nonce) => {\r\n    if (!err){\r\n      var data = artinToken.methods.rewardAndClose(index, indexChoice, web3.utils.toWei(amount.toString())).encodeABI();\r\n      var txObj = getTxObject(nonce, 2100000, \"10\", data);\r\n      sendSignedTxWCAsync(_web3, \"eth_sendTransaction\", txObj, callback);\r\n    }\r\n  });\r\n}\r\n\t\r\n/*window.addEventListener('load', async function() {\r\n\ttry {\r\n\t\tawait window.ethereum.enable();\r\n\t} catch (error){\r\n\t\t//alert(\"Error: \" + error);\r\n\t}\r\n\t\r\n\t// Checking if Web3 has been injected by the browser (Mist/MetaMask)\r\n\tif (typeof web3 !== 'undefined') {\r\n\t// Use Mist/MetaMask's provider\r\n\t\tweb3js = new Web3(web3.currentProvider);\r\n\t} else {\r\n\t// Handle the case where the user doesn't have web3. Probably\r\n\t// show them a message telling them to install Metamask in\r\n\t// order to use our app.\r\n\t}\r\n\t\t\r\n\t// Start app\r\n\ttotalSupply(function(err, res){\r\n\t\tlogError(err);\r\n\t\tdocument.getElementById(\"total\").innerHTML = res;\r\n\t});\r\n});\r\n*/","import React from 'react';\nimport './App.css';\nimport Web3 from \"web3\";\nimport WalletLink from \"walletlink\"\nimport * as lib from './smart_contract_controller.js';\n\nvar web3;\nvar ethereum;\nvar owner_wallet = \"0x0979d9f8f0330518a6de7769a44baa666f37f0c2\";// \"0xdfcddd7476cef8073f0809eef864d5ce1709eebf\";\nasync function startApp(){\n  const walletLink = new WalletLink({\n    appName: \"ArtinVoteApp\",\n    darkMode: true\n  });\n  const JSONRPC_URL = \"https://kovan.infura.io/v3/b78a27720f0d486da26c0d3c95158aef\";\n  const CHAIN_ID = 42;\n  if (typeof window.ethereum !== 'undefined'){\n    ethereum = window.ethereum;\n  } else {\n    ethereum = walletLink.makeWeb3Provider(JSONRPC_URL, CHAIN_ID);\n  }\n\n  //  Create Web3\n  web3 = new Web3(ethereum);\n}\n\nfunction App() {\n  function submitVote(){\n    var q = document.getElementById(\"question\").value;\n    var a1 = document.getElementById(\"an1\").value;\n    var a2 = document.getElementById(\"an2\").value;\n    var a3 = document.getElementById(\"an3\").value;\n    var a4 = document.getElementById(\"an4\").value;\n    var a5 = document.getElementById(\"an5\").value;\n    var a6 = document.getElementById(\"an6\").value;\n    var ans = [a1, a2, a3, a4, a4, a5, a6];\n    var answers = [];\n    for (var i = 0; i < ans.length && ans[i].length > 0; ++i){\n      answers.push(ans[i]);\n    }\n    console.log(answers);\n    try {\n      lib.createVote(q, answers);\n    } catch (err){\n      console.log(\"Error in createVote(), \", err);\n    }\n    return false;\n  }\n\n  function voteForIt(index){\n    console.log(\"voteForIt: \", index);\n    lib.voteFor(index);\n  }\n\n  function connect(){\n    ethereum.enable().then((accounts) => {\n      console.log(\"User's address is: \", accounts[0]);\n      web3.eth.defaultAccount = accounts[0];\n      document.getElementById(\"wallet\").innerHTML = \"address: \" + accounts[0];\n      if (accounts[0] == owner_wallet.toLowerCase()){\n        document.getElementById(\"admin\").innerHTML = \"Create vote:<br /> Question:<form id='submitVote' action='#'><input id='question' /><br />Answers:<br /><input id='an1' /><br /><input id='an2' /><br /><input id='an3' /><br /><input id='an4' /><br /><input id='an5' /><br /><input id='an6' /><br /><input type='submit' value='send' /></form>\";\n        document.getElementById(\"submitVote\").onsubmit = () => submitVote();\n      }\n\n      lib.prepareOptions();\n      lib.getNotDistributed((err, res) => { console.log(\"Not distributed amount: \", res); });\n      //lib.ownersGift(\"0xdfcddd7476cef8073f0809eef864d5ce1709eebf\", 2000000000, (err, res) => { console.log(\"Done with: \", res); });\n      lib.getOwner((err, res) => { console.log(\"owner is: \" + res); });\n\n      //lib.createVoteTest1(ethereum);\n    });\n  }\n\n  startApp();\n  lib.startToken(web3);\n  //lib.totalSupply((err, res) => {console.log(\"Total supply: \", res); });\n  return (\n    <div className=\"App\">\n        <div id=\"wallet\">\n          <a href=\"#\" onClick={connect}>Connect wallet</a>\n        </div>\n        <div id=\"admin\"></div>\n\n        <div>\n          <div id=\"question\"></div>\n          <div id=\"options\"></div>\n        </div>\n    </div>\n  );\n}\n\nexport default App;\n","import React, {Component} from 'react';\nimport './App.css';\nimport Web3 from \"web3\";\nimport WalletLink from \"walletlink\";\nimport WalletConnectProvider from '@walletconnect/web3-provider';\nimport * as lib from './smart_contract_controller.js';\nimport WalletConnect from '@walletconnect/client';\nimport { WalletConnectConnector } from '@web3-react/walletconnect-connector'\nimport Web3Modal from \"web3modal\";\n\nvar connectCounter = 0;\nvar web3;\nvar ethereum;\nvar owner_wallet = \"0x0979d9f8f0330518a6de7769a44baa666f37f0c2\";// \"0xdfcddd7476cef8073f0809eef864d5ce1709eebf\";\n\nasync function startApp(){\n  console.log(\"METHOD: startApp()\");\n  const JSONRPC_URL = \"https://kovan.infura.io/v3/b78a27720f0d486da26c0d3c95158aef\";\n  const CHAIN_ID = 42;\n  const walletLink = new WalletLink({\n    appName: \"ArtinVoteApp\",\n    darkMode: true\n  });\n  const walletConnectProvider = new WalletConnectProvider({\n    infuraId: \"b78a27720f0d486da26c0d3c95158aef\",\n    chainId: CHAIN_ID,\n    dappName: \"ArtinVoteApp\",\n    rpcUrl: JSONRPC_URL,\n    bridgeUrl: \"https://bridge.walletconnect.org\",\n    rpc: { 42: JSONRPC_URL }\n  });\n  //const walletConnect = new WalletConnect({ session: { chainId: CHAIN_ID } });\n  const providerOptions = {\n    walletconnect: {\n      package: WalletConnectProvider,\n      options: { \n        infuraId: \"b78a27720f0d486da26c0d3c95158aef\",\n        chainId: CHAIN_ID\n      }\n    }\n  };\n  const web3Modal = new Web3Modal({\n    network: \"kovan\",\n    providerOptions\n  });\n  const walletConnect = new WalletConnectConnector({\n    rpc: { 42: JSONRPC_URL },\n    rpcUrl: JSONRPC_URL,\n    bridge: 'https://bridge.walletconnect.org',\n    qrcode: true,\n    pollingInterval: 15000\n  });\n  if (typeof window.ethereum !== 'undefined'){\n    ethereum = window.ethereum;\n  } else {\n    ethereum = walletLink.makeWeb3Provider(JSONRPC_URL, CHAIN_ID);\n    //ethereum = walletConnectProvider;\n    //ethereum = await web3Modal.connectTo(\"walletconnect\");\n  }\n  \n  console.log(\"ethereum: \", ethereum);\n\n  //  Create Web3\n  //web3 = new Web3(ethereum);\n  web3 = new Web3(JSONRPC_URL);\n  lib.startToken(web3);\n  console.log(\"startApp() finished\");\n  ++connectCounter;\n}\n\nconst options = [];\nconst newOptions = [];\nvar nextId = 0;\n\nexport default class App2 extends Component{\n  constructor(){\n      super();\n      this.state = {\n          description: null,\n          options: options,\n          error: null,\n          isAdmin: false,\n          query: \"\",\n          wallet: null,\n          notes: null,\n          balance: 0,\n          tx: null,\n          newOptions: newOptions, // New options (of new poll)\n          newDescription: '', // New description (of new poll)\n          count: 0, // Number of polls in contract\n          minIndex: 1,\n          index: 0, // Index of poll\n          canGoBack: false,\n          canGoNext: false,\n          isTransactionMsg: false,\n          myVoteIndex: 0,\n          reward: 10,\n          winningIndex: -1,\n      };\n      this.state.index = this.parseUrl();\n  }\n  async componentDidMount(){\n    await startApp();\n    ++connectCounter;\n    this.connect(this.state.index);\n  }\n  disconnect(){\n    console.log(ethereum);\n    try {\n      ethereum.disconnect();\n    } catch (err) {\n      if (ethereum.close){\n        ethereum.close();\n      }\n    }\n  }\n  connect(index1 = 0){\n    if (connectCounter < 2) return;\n\n    console.log(\"METHOD: connect()\");\n    lib.setIndex(index1);\n      ethereum.enable().then((accounts) => {\n        console.log(\"User's address is: \", accounts[0]);\n        web3.eth.defaultAccount = accounts[0];\n        this.setState({ \n          wallet: accounts[0],\n          isAdmin: accounts[0] === owner_wallet.toLowerCase()\n        });\n        \n        lib.getBalanceOf(web3.eth.defaultAccount, (err, res) => {\n          console.log(\"Balance is: \", res);\n          if (!err){\n            this.setState({ balance: web3.utils.fromWei(\"\" + res, 'ether') });\n          } else { console.log(\"Balance error: \", err); }\n        });\n\n        \n    this.loadWinning();\n    this.loadPoll();\n    this.loadMyVote();\n    lib.getVoteCount((err, res) => { // Set number of polls\n      this.setState({ \n        count: res-1, \n        canGoNext: this.state.index < res - 1,\n        canGoBack: this.state.minIndex < this.state.index\n      });\n    });\n\n    }).catch(res => console.log(\"Error enable(): \", res));\n  }\n  loadMyVote(){\n    lib.voteOfAsync(web3.eth.defaultAccount).then((val) => {\n        this.state.myVoteIndex = val - 1;\n        console.log(\"My vote is: \", this.state.myVoteIndex);\n        \n        this.updateMyVote(val);\n    });\n  }\n  loadWinning(){\n    lib.winningIndexOfAsync().then((val) => {\n        this.state.winningIndex = val - 1;\n        console.log(\"Winning: \", val);\n    });\n  }\n  loadPoll(){\n    const sleep = (delay) => new Promise((resolve) => setTimeout(resolve, delay));\n    lib.prepeareOptionsAsync().then(async (val) => {\n      for (var i = 0; i < val; ++i){\n        lib.scoped(i, i1 => {\n          lib.choiceOfAsync(i1).then(val1 => {\n            console.log(\"Options: \", val1);\n            this.onAddOption(i1, val1);\n\n            lib.weightOfAsync(i1).then(val2 => {\n              console.log(\"weight: \", val2);\n              this.onUpdateOption(i1, val2);\n            });\n          });\n        });\n        await sleep(200);\n      }\n    });\n    lib.descriptionOfAsync().then((val) => {\n      this.setState({ description: val });\n    });\n  }\n  onUpdateOption = (i, val) => {\n    var wasDone = false;\n    this.setState(state => {\n      const options = state.options.map((item) => {\n        if (i === item.id && !wasDone){\n          item.votes = item.votes + parseFloat(val);\n          wasDone = true;\n        }\n        return item;\n      });\n      return {\n        options,\n      };\n    });\n    \n    this.pollLength();\n  };\n  onAddOption = (id, opText) => {\n    let op = { id: id, text: opText, votes: 0, isMy: id == this.state.myVoteIndex, isWin: id == this.state.winningIndex };\n    this.setState({ options: [...this.state.options, op] });\n  };\n\n  async voteForThis(index){\n    console.log(\"Vote for index: \", index);\n    lib.voteForTemp(ethereum, index, (res) => {\n      if (res){\n        console.log(res);\n        this.setState({ notes: \"TxId: \" + res, tx: \"https://kovan.etherscan.io/tx/\" + res });\n\n        /*lib.weightOfAsync(index).then(val2 => {\n          console.log(\"weight: \", val2);\n          this.onUpdateOption(index, val2);\n        }).catch(res => {\n          console.log(\"error setting weight: \", res);\n        });*/\n      }\n    });\n  }\n  \n  openIndex(index){\n    this.setState({ index:index });\n  }\n  addOption = () => {\n    let op = { id: nextId, text: '', isMy: false, isWin: false };\n    this.setState({ newOptions: [...this.state.newOptions, op] });\n    ++nextId;\n  }\n  updateOption = (id, text) => {\n    var wasDone = false;\n    this.setState(state => {\n        const newOptions = state.newOptions.map((item) => {\n            if (id == item.id && !wasDone){\n                item.text = text;\n                wasDone = true;\n            }\n            return item;\n        });\n        return newOptions;\n    });\n  }\n  updateMyVote = (id) => {\n    var wasDone = false;\n    this.setState(state => {\n      const newOptions = state.newOptions.map((item) => {\n        if (id == item.id && !wasDone){\n          item.isMy = true;\n          wasDone = true;\n        }\n        return item;\n      })\n      return newOptions;\n    });\n  }\n  finishPoll = () => {\n    console.log(\"poll description: \", this.state.newDescription);\n    console.log(\"poll options: \", this.state.newOptions);\n    var ops = [];\n    for (var i = 0; i < this.state.newOptions.length; ++i){\n      ops[i] = this.state.newOptions[i].text;\n      console.log(\"Op: \", this.state.newOptions[i].text);\n    }\n    console.log(\"Options: \", ops);\n    lib.createVote(ethereum, this.state.newDescription, ops);\n  }\n  handleChange = (event) => {\n    this.setState({ newDescription: event.target.value });\n  }\n  handleItemChange = (event) => {\n      this.updateOption(event.target.name, event.target.value);\n  }\n  handleRewardChange = (event) => {\n    this.setState({ reward: event.target.value });\n  }\n  parseUrl = () => {\n    var params = new URLSearchParams(window.location.search);\n    var parseIndex = params.get('q');\n    if (parseIndex < this.state.minIndex){ parseIndex = this.state.minIndex; }\n    return parseIndex;\n  }\n  concat = (str1, str2) => { return str1 + str2; }\n  reload = () => {\n    window.location.reload();\n  }\n  myClass = (isMy) => { \n    return isMy ? \"is-my\" : \"not-my\";\n  }\n  winClass = (isWin) => {\n    return isWin ? \"is-win\" : \"not-win\";\n  }\n  reward = (id, value) => { \n    var rew = document.getElementById(\"rewardId\").value;\n    lib.rewardCorrectAndCloseAsync(ethereum, id + 2, value - rew, (res) => {\n      if (!res){\n        console.log(\"result of rewardCorrectAndClose: \", res);\n      }\n    });\n  }\n  rewardAndPunish = (id, value) => {\n    var rew = document.getElementById(\"rewardId\").value;\n    lib.rewardAndCloseAsync(ethereum, id + 2, value - rew, (res) => {\n      if (!res){\n        console.log(\"result of rewardAndClose: \", res);\n      }\n    });\n  }\n  pollLength = () => {\n    var ops = this.state.options;\n    var max = 0;\n    var i = 0;\n    for (i = 0; i < ops.length; ++i){\n      if (ops[i].votes > max){\n        max = ops[i].votes;\n      }\n    }\n    let pollBars = document.querySelectorAll('.poll-bar');\n    for (i = 0; i < ops.length; ++i){\n      pollBars[i].style.width = (2 + 98 * ops[i].votes / max) + \"%\";\n    }\n  }\n\n  render(){\n    return (\n        <div>\n          <div class=\"head\">\n          {\n            this.state.wallet &&\n              <div>account: {this.state.wallet}\n                <div></div>\n              </div>\n          }\n          {\n            !this.state.wallet &&\n              <div><a href=\"#\" onClick={this.connect(this.state.index)}>connect</a></div>\n          }\n          { \n            <div>balance: {this.state.balance} ARTv1</div>\n          }\n          {\n            this.state.isAdmin &&\n            <div>is admin</div>\n          }\n          </div>\n\n          <div class=\"main\">\n            <h1>ARTIN vote token</h1>\n            {\n              <div class=\"count\">Count: {this.state.count}</div>\n            }\n            <div class=\"poll\">\n            { this.state.options.length > 0 &&\n              <div class=\"poll-title\">{this.state.description}</div>\n            }\n            <ul>\n            {\n                this.state.options.length === 0 &&\n                <li><b>Connect your wallet first</b></li>\n            }\n            { this.state.options.length > 0 &&\n                this.state.options.map( (item) => (\n                    <li key={item.id} id={item.id} class={this.winClass(item.isWin)}>\n                      <div class={this.myClass(item.isMy)}><a href=\"#\" onClick={() => this.voteForThis(item.id)}>{item.text}</a></div>\n                      <div>{item.votes}</div>\n                      <div class=\"poll-bar\"></div>\n                      { this.state.isAdmin &&\n                        <div>\n                          <a href=\"#\" onClick={() => this.reward(item.id, item.votes)}>reward good</a> |&nbsp;\n                          <a href=\"#\" onClick={() => this.rewardAndPunish(item.id, item.votes)}>reward and punish</a>\n                        </div>\n                      }\n                    </li>\n                ))\n            }\n            </ul>\n            <div class=\"poll-nav\"> \n              <hr />\n              {this.state.canGoBack &&\n                <span><a href={this.concat(\"?q=\", Number(this.parseUrl())-1)}>back</a></span>\n              }\n              &nbsp;|&nbsp;\n              {this.state.canGoNext &&\n                <span><a href={this.concat(\"?q=\", 1+Number(this.parseUrl()))}>next</a></span>\n              }\n            </div>\n            { this.state.isAdmin && this.state.options.length > 0 &&\n              <div>\n                reward: <input id=\"rewardId\" name=\"reward\" value={this.state.reward} onChange={this.handleRewardChange} />\n              </div>\n            }\n            </div>\n\n            {this.state.isAdmin &&\n              <div>\n                <hr />\n                <form onSubmit={this.submitPoll}>\n                new description: <input id=\"newDesc\" value={this.state.newDescription} onChange={this.handleChange} />\n                <ul>\n                {this.state.newOptions.map((item) => (\n                  <li key={item.id} id={item.id}>\n                    <input type=\"text\" name={item.id} value={item.text} onChange={this.handleItemChange} />\n                  </li>\n                ))}\n                <div><a href=\"#\" onClick={this.addOption}>add option</a></div>\n                <div><a href=\"#\" onClick={this.finishPoll}>finish</a></div>\n                </ul>\n                </form>\n              </div>\n            }\n            {this.state.error &&\n                <div>{this.state.error}</div>\n            }\n            {this.state.notes &&\n              <div>\n                <hr />\n                <a href={this.state.tx}>{this.state.notes}</a>\n                <div>Transaction is being processed, <a href=\"#\" onClick={this.reload}>reload</a> page to update the poll.</div>\n              </div>\n            }\n            </div>\n        </div>\n    )\n  }\n}","import React, {Component} from 'react';\r\nimport './App.css';\r\n\r\n\r\nconst options = [];\r\nconst newOptions = [];\r\nvar nextId = 0;\r\n\r\nexport default class App3 extends Component{\r\n  constructor(){\r\n      super();\r\n      this.state = {\r\n          description: null,\r\n          options: options,\r\n          error: null,\r\n          isAdmin: true,\r\n          wallet: null,\r\n          notes: null,\r\n          balance: 0,\r\n          tx: null,\r\n          newOptions: newOptions,\r\n          newDescription: ''\r\n      }\r\n      \r\n  }\r\n  componentDidMount(){\r\n  }\r\n  onUpdateOption = (i, val) => {\r\n    var wasDone = false;\r\n    this.setState(state => {\r\n      const options = state.options.map((item) => {\r\n        if (i === item.id && !wasDone){\r\n          item.votes = item.votes + parseFloat(val);\r\n          wasDone = true;\r\n        }\r\n        return item;\r\n      });\r\n      return {\r\n        options,\r\n      };\r\n    });\r\n  };\r\n  onAddOption = (id, opText) => {\r\n    let op = { id: id, text: opText, votes: 0 };\r\n    this.setState({ options: [...this.state.options, op] });\r\n  };\r\n\r\n  addOption = () => {\r\n    let op = { id: nextId, text: '' };\r\n    this.setState({ newOptions: [...this.state.newOptions, op] });\r\n    ++nextId;\r\n  }\r\n  updateOption = (id, text) => {\r\n    var wasDone = false;\r\n    this.setState(state => {\r\n        const newOptions = state.newOptions.map((item) => {\r\n            if (id == item.id && !wasDone){\r\n                item.text = text;\r\n                wasDone = true;\r\n            }\r\n            return item;\r\n        });\r\n        return newOptions;\r\n    });\r\n  }\r\n  finishPoll = () => {\r\n    console.log(\"poll description: \", this.state.newDescription);\r\n    console.log(\"poll options: \", this.state.newOptions);\r\n  }\r\n  handleChange = (event) => {\r\n    this.setState({ newDescription: event.target.value });\r\n  }\r\n  handleItemChange = (event) => {\r\n      console.log(event.target.value);\r\n      console.log(event.target.name);\r\n      this.updateOption(event.target.name, event.target.value);\r\n  }\r\n\r\n  render(){\r\n    return (\r\n        <div>\r\n          { \r\n            <div>balance: {this.state.balance} ARTv1</div>\r\n          }\r\n          {\r\n            this.state.isAdmin &&\r\n            <div>is admin</div>\r\n          }\r\n            <h1>App v.1.0</h1>\r\n            {this.state.isAdmin &&\r\n              <div>\r\n                <form>\r\n                new description: \r\n                    <input id=\"newDesc\" type=\"text\" onChange={this.handleChange} />\r\n                <ul>\r\n                {this.state.newOptions.map((item) => (\r\n                  <li key={item.id} id={item.id}>\r\n                    <input type=\"text\" name={item.id} value={item.text} onChange={this.handleItemChange} />\r\n                  </li>\r\n                ))}\r\n                <div><a href=\"#\" onClick={this.addOption}>add option</a></div>\r\n                <div><a href=\"#\" onClick={this.finishPoll}>finish</a></div>\r\n                </ul>\r\n                </form>\r\n              </div>\r\n            }\r\n            {this.state.error &&\r\n                <div>{this.state.error}</div>\r\n            }\r\n            {this.state.notes &&\r\n              <div><a href={this.state.tx}>{this.state.notes}</a></div>\r\n            }\r\n        </div>\r\n    )\r\n  }\r\n}","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' },\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then(registration => {\n        registration.unregister();\n      })\n      .catch(error => {\n        console.error(error.message);\n      });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport App2 from './App2';\nimport App3 from './App3';\n//import App4 from './App4';\nimport * as serviceWorker from './serviceWorker';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App2 />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}